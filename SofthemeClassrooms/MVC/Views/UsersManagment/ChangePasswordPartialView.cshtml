@model WebApplication1.Models.ChangePasswordModel
@using WebApplication1.HtmlHelpers;

@{
    ViewBag.Title = "Смена пароля";
}

@using (Ajax.BeginForm("ChangePassword", new AjaxOptions() {
    HttpMethod = "POST",
    InsertionMode = InsertionMode.Replace,
    UpdateTargetId = "changePassWindow",
    OnSuccess= "PasswordChangedSuccessfull()"
}))
{
    <h2>Изменить пароль</h2>
    <div class="input-wrapper">
        @Html.RedValidationMessageFor(m => m.OldPassword)
        @Html.EditorFor(m => m.OldPassword, new { htmlattributes = new { @class = "textinput", placeholder = "Старый пароль", id="oldpassword" } })
    </div>

    <div class="input-wrapper">
        @Html.RedValidationMessageFor(m => m.NewPassword)
        @Html.EditorFor(m => m.NewPassword, new { htmlattributes = new { @class = "textinput", placeholder = "Новый пароль", id="newpassword" } })
    </div>

    <div class="input-wrapper">
        @Html.RedValidationMessageFor(m => m.ConfirmPassword)
        @Html.EditorFor(m => m.ConfirmPassword, new { htmlattributes = new { @class = "textinput", placeholder = "Подтвердите новый пароль", id="confirmpassword" } })
    </div>

    <div class="input-wrapper">
        <input id="chng-passw-button" class="userPagebuttton" type="submit" value="Сохранить" />    
    </div>
}

<div id="is-password-changed">

</div>

